<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stop Overpaying on Retirement Taxes - Ontario Tax App</title>
    <meta name="description" content="Discover how much you could save with Ontario's most powerful RRSP withdrawal analyzer. Compare 8+ tax-saving strategies including spousal equalization and RRIF meltdowns.">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #2c3e50;
            background: #ffffff;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: #2c5aa0;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: #2c3e50;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: #2c5aa0;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            padding-top: 80px;
        }

        .hero-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .hero-text h1 {
            font-size: 3.2rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            line-height: 1.2;
            color: #1a202c;
        }

        .hero-text .highlight {
            color: #e53e3e;
        }

        .hero-text p {
            font-size: 1.3rem;
            margin-bottom: 2.5rem;
            color: #4a5568;
            line-height: 1.6;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, #e53e3e 0%, #c53030 100%);
            color: white;
            padding: 1.2rem 2.5rem;
            font-size: 1.1rem;
            font-weight: 600;
            text-decoration: none;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(229, 62, 62, 0.3);
            transition: all 0.3s ease;
            text-transform: none;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(229, 62, 62, 0.4);
        }

        .hero-visual {
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .report-mockup {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
            transform: rotate(-2deg);
            position: relative;
        }

        .report-mockup::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: linear-gradient(135deg, #2c5aa0, #1a365d);
            border-radius: 15px;
            z-index: -1;
        }

        .savings-chart {
            position: absolute;
            right: -50px;
            top: 50px;
            background: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transform: rotate(3deg);
        }

        /* Problem Section */
        .problem-section {
            padding: 6rem 0;
            background: #f7fafc;
        }

        .problem-section h2 {
            font-size: 2.8rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 3rem;
            color: #1a202c;
        }

        .problems-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .problem-card {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border-left: 4px solid #e53e3e;
        }

        .problem-card .icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .problem-card h3 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #2d3748;
        }

        .problem-card p {
            color: #4a5568;
            line-height: 1.6;
        }

        /* Solution Section */
        .solution-section {
            padding: 6rem 0;
            background: white;
        }

        .solution-section h2 {
            font-size: 2.8rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 1.5rem;
            color: #1a202c;
        }

        .solution-subtitle {
            text-align: center;
            font-size: 1.2rem;
            color: #4a5568;
            margin-bottom: 4rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 3rem;
            margin-top: 3rem;
        }

        .feature-card {
            background: #f8fafc;
            padding: 2.5rem;
            border-radius: 12px;
            border: 1px solid #e2e8f0;
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .feature-card .feature-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: #2c5aa0;
            margin-bottom: 0.5rem;
        }

        .feature-card .benefit-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 1rem;
        }

        .feature-card p {
            color: #4a5568;
            line-height: 1.6;
        }

        /* ROI Section */
        .roi-section {
            padding: 6rem 0;
            background: linear-gradient(135deg, #2c5aa0 0%, #1a365d 100%);
            color: white;
        }

        .roi-section h2 {
            font-size: 2.8rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 3rem;
        }

        .comparison-table {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            margin: 0 auto;
            max-width: 900px;
        }

        .comparison-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .comparison-table th {
            background: #2d3748;
            color: white;
            padding: 1.5rem 1rem;
            font-weight: 600;
            text-align: left;
        }

        .comparison-table td {
            padding: 1.2rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            color: #2d3748;
        }

        .comparison-table .highlight-col {
            background: #f0fff4;
            font-weight: 600;
        }

        .check-mark {
            color: #38a169;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .x-mark {
            color: #e53e3e;
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Pricing Section */
        .pricing-section {
            padding: 6rem 0;
            background: #f7fafc;
        }

        .pricing-section h2 {
            font-size: 2.8rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 1rem;
            color: #1a202c;
        }

        .pricing-subtitle {
            text-align: center;
            font-size: 1.2rem;
            color: #4a5568;
            margin-bottom: 4rem;
        }

        .pricing-card {
            background: white;
            border-radius: 12px;
            padding: 3rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 500px;
            margin: 0 auto;
            border: 2px solid #2c5aa0;
        }

        .price {
            font-size: 3rem;
            font-weight: 800;
            color: #2c5aa0;
            margin-bottom: 0.5rem;
        }

        .price-subtitle {
            color: #4a5568;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .pricing-features {
            list-style: none;
            margin-bottom: 2.5rem;
            text-align: left;
        }

        .pricing-features li {
            padding: 0.8rem 0;
            display: flex;
            align-items: center;
            color: #2d3748;
        }

        .pricing-features li::before {
            content: '✓';
            color: #38a169;
            font-weight: bold;
            margin-right: 1rem;
            font-size: 1.2rem;
        }

        .final-cta-button {
            display: inline-block;
            background: linear-gradient(135deg, #38a169 0%, #2f855a 100%);
            color: white;
            padding: 1.5rem 3rem;
            font-size: 1.2rem;
            font-weight: 600;
            text-decoration: none;
            border-radius: 8px;
            box-shadow: 0 10px 25px rgba(56, 161, 105, 0.3);
            transition: all 0.3s ease;
            width: 100%;
            text-align: center;
        }

        .final-cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(56, 161, 105, 0.4);
        }

        /* Footer */
        footer {
            background: #1a202c;
            color: white;
            padding: 3rem 0 1rem;
        }

        .footer-content {
            text-align: center;
        }

        .footer-bottom {
            border-top: 1px solid #2d3748;
            padding-top: 1rem;
            margin-top: 2rem;
            text-align: center;
            color: #a0aec0;
            font-size: 0.9rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 2rem;
            }

            .hero-text h1 {
                font-size: 2.2rem;
            }

            .hero-text p {
                font-size: 1.1rem;
            }

            .problems-grid,
            .features-grid {
                grid-template-columns: 1fr;
            }

            .nav-links {
                display: none;
            }

            .savings-chart {
                position: static;
                margin-top: 1rem;
                transform: none;
            }

            .comparison-table {
                font-size: 0.9rem;
            }

            .comparison-table th,
            .comparison-table td {
                padding: 0.8rem 0.5rem;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.8s ease-out;
        }

        /* OAS Calculator Callout */
        .oas-calculator-callout {
            background: #F0F7FF;
            border: 1px solid #E2E8F0;
            border-radius: 12px;
            padding: 2rem;
            margin-top: 3rem;
            text-align: center;
        }

        .oas-calculator-callout h2 {
            font-size: 2rem;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 1rem;
        }

        .oas-calculator-callout p {
            font-size: 1.1rem;
            color: #4a5568;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .calculator-cta-button {
            background: linear-gradient(135deg, #2c5aa0 0%, #1a365d 100%);
            color: white;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(44, 90, 160, 0.3);
        }

        .calculator-cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(44, 90, 160, 0.4);
        }

        /* Secondary CTA */
        .secondary-cta {
            margin-top: 1.5rem;
            font-size: 1rem;
            color: #4a5568;
        }

        .secondary-cta a {
            color: #2c5aa0;
            text-decoration: none;
            font-weight: 600;
        }

        .secondary-cta a:hover {
            text-decoration: underline;
        }

        /* Pre-Footer Section */
        .pre-footer-section {
            padding: 4rem 0;
            background: white;
            text-align: center;
        }

        .pre-footer-section h2 {
            font-size: 2.2rem;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 1.5rem;
        }

        .pre-footer-section p {
            font-size: 1.1rem;
            color: #4a5568;
            margin-bottom: 2rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        .secondary-cta-button {
            background: transparent;
            color: #2c5aa0;
            padding: 1rem 2rem;
            font-size: 1.1rem;
            font-weight: 600;
            border: 2px solid #2c5aa0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .secondary-cta-button:hover {
            background: #2c5aa0;
            color: white;
            transform: translateY(-2px);
        }

        /* OAS Calculator Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: 12px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .modal-header h2 {
            font-size: 1.8rem;
            font-weight: 700;
            color: #1a202c;
            margin: 0;
        }

        .close-button {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #4a5568;
            padding: 0.5rem;
        }

        .close-button:hover {
            color: #1a202c;
        }

        .modal-description {
            font-size: 1rem;
            color: #4a5568;
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 0.5rem;
        }

        .form-group input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #e2e8f0;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: #2c5aa0;
            box-shadow: 0 0 0 3px rgba(44, 90, 160, 0.1);
        }

        .submit-button {
            width: 100%;
            background: linear-gradient(135deg, #38a169 0%, #2f855a 100%);
            color: white;
            padding: 1rem;
            font-size: 1.1rem;
            font-weight: 600;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .submit-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 15px rgba(56, 161, 105, 0.3);
        }

        .success-message {
            display: none;
            text-align: center;
            padding: 2rem;
            color: #38a169;
            font-weight: 600;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="container">
            <div class="logo">Ontario Tax App</div>
            <ul class="nav-links">
                <li><a href="#problem">The Problem</a></li>
                <li><a href="#solution">Our Solution</a></li>
                <li><a href="#pricing">Pricing</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text fade-in-up">
                    <h1><span class="highlight">Stop Overpaying</span> on Retirement Taxes</h1>
                    <p>Discover How Much You Could Save with Ontario's Most Powerful RRSP Withdrawal Analyzer. Our app analyzes over 8 tax-saving strategies, including spousal equalization and RRIF meltdowns, to find the optimal plan for your specific financial situation. Stop guessing and start planning with confidence.</p>
                    <a href="calculator.html" class="cta-button">Generate My Personalized Tax Analysis</a>
                    <p class="secondary-cta">Not ready for a full analysis? <a href="/free-rrif-guide">Download our free RRIF Guide first.</a></p>
                </div>
                <div class="hero-visual fade-in-up">
                    <div class="report-mockup">
                        <h3 style="color: #2c5aa0; margin-bottom: 1rem;">📊 Professional Tax Report</h3>
                        <div style="height: 200px; background: #f8fafc; border-radius: 8px; display: flex; align-items: center; justify-content: center; color: #4a5568;">
                            Comprehensive Analysis<br>
                            8+ Strategies Compared<br>
                            Ontario-Specific Calculations
                        </div>
                    </div>
                    <div class="savings-chart">
                        <h4 style="color: #2c5aa0; margin-bottom: 0.5rem;">Tax Savings</h4>
                        <div style="display: flex; gap: 1rem; align-items: end;">
                            <div style="background: #e53e3e; height: 60px; width: 30px; border-radius: 4px;"></div>
                            <div style="background: #38a169; height: 100px; width: 30px; border-radius: 4px;"></div>
                        </div>
                        <div style="font-size: 0.8rem; color: #4a5568; margin-top: 0.5rem;">Unoptimized vs Optimized</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Problem Section -->
    <section id="problem" class="problem-section">
        <div class="container">
            <h2>Retirement in Ontario is More Complicated Than Ever</h2>
            <div class="problems-grid">
                <div class="problem-card fade-in-up">
                    <div class="icon">💰</div>
                    <h3>High Advisor Fees</h3>
                    <p>Comprehensive retirement plans can cost over $1,500, locking valuable advice away from those who need it most.</p>
                </div>
                <div class="problem-card fade-in-up">
                    <div class="icon">⚠️</div>
                    <h3>The OAS Clawback</h3>
                    <p>Are you unknowingly on track to lose thousands in government benefits? The clawback threshold is $93,454 for 2025, and many retirees cross it without a plan.</p>
                </div>
                <div class="problem-card fade-in-up">
                    <div class="icon">👫</div>
                    <h3>Complex Spousal Rules</h3>
                    <p>Are you and your spouse truly minimizing your combined tax bill? Misunderstanding spousal RRSP and pension splitting rules can be a costly mistake.</p>
                </div>
                <div class="problem-card fade-in-up">
                    <div class="icon">📊</div>
                    <h3>Generic Advice</h3>
                    <p>Most online calculators ignore Ontario-specific surtaxes and health premiums, giving you an incomplete and dangerously inaccurate picture.</p>
                </div>
            </div>
            
            <!-- OAS Clawback Calculator Callout -->
            <div class="oas-calculator-callout fade-in-up">
                <h2>Find Your Personal Clawback Risk Zone</h2>
                <p>Are your planned withdrawals putting your OAS at risk? Don't guess. Use our free, interactive calculator to see your estimated net income and find out if you're in the danger zone.</p>
                <button class="calculator-cta-button" onclick="openOASModal()">Launch Free OAS Calculator</button>
            </div>
        </div>
    </section>

    <!-- Solution Section -->
    <section id="solution" class="solution-section">
        <div class="container">
            <h2>The Ontario Tax App: Your Financial Advisor in Your Pocket</h2>
            <p class="solution-subtitle">Frame each feature as a direct benefit to you</p>
            <div class="features-grid">
                <div class="feature-card fade-in-up">
                    <div class="feature-title">8+ Withdrawal Strategies Analyzed</div>
                    <div class="benefit-title">Complete Scenario Comparison</div>
                    <p>We compare every viable scenario—from Bracket Filling to a Gradual Meltdown—so you can see the exact tax and estate value implications of each choice. No more what-ifs.</p>
                </div>
                <div class="feature-card fade-in-up">
                    <div class="feature-title">Spousal Equalization</div>
                    <div class="benefit-title">Household Tax Optimization</div>
                    <p>Our proprietary algorithm finds the optimal withdrawal split between you and your spouse to minimize your household tax bill and protect your government benefits.</p>
                </div>
                <div class="feature-card fade-in-up">
                    <div class="feature-title">Ontario-Specific Tax Engine</div>
                    <div class="benefit-title">True All-In Cost Analysis</div>
                    <p>Our calculations include the Ontario Surtax and Health Premium, providing a true, all-in cost analysis that generic national tools miss.</p>
                </div>
                <div class="feature-card fade-in-up">
                    <div class="feature-title">Professional PDF Report</div>
                    <div class="benefit-title">Confident Decision Making</div>
                    <p>Receive a comprehensive, easy-to-understand report that you can save, print, and use to make confident decisions about your future.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ROI Section -->
    <section class="roi-section">
        <div class="container">
            <h2>An Investment in Your Financial Future</h2>
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>Feature</th>
            <th class="highlight-col">Ontario Tax App</th>
                            <th>Traditional Financial Advisor</th>
                            <th>Free Bank Calculators</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Cost</strong></td>
                            <td class="highlight-col">$149 One-Time</td>
                            <td>$1,500+ Ongoing</td>
                            <td>Free</td>
                        </tr>
                        <tr>
                            <td><strong>Strategy Analysis</strong></td>
                            <td class="highlight-col">8+ Scenarios Compared</td>
                            <td>1-2 Scenarios</td>
                            <td>1 Basic Projection</td>
                        </tr>
                        <tr>
                            <td><strong>Spousal Optimization</strong></td>
                            <td class="highlight-col"><span class="check-mark">✓</span> Yes</td>
                            <td><span class="check-mark">✓</span> Yes</td>
                            <td><span class="x-mark">✗</span> No</td>
                        </tr>
                        <tr>
                            <td><strong>Ontario-Specific Taxes</strong></td>
                            <td class="highlight-col"><span class="check-mark">✓</span> Yes</td>
                            <td><span class="check-mark">✓</span> Yes</td>
                            <td><span class="x-mark">✗</span> No</td>
                        </tr>
                        <tr>
                            <td><strong>Outcome</strong></td>
                            <td class="highlight-col">Actionable, Optimized Plan</td>
                            <td>Actionable Plan</td>
                            <td>Vague Estimate</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Pricing Section -->
    <section id="pricing" class="pricing-section">
        <div class="container">
            <h2>Clear Pricing & Final CTA</h2>
            <p class="pricing-subtitle">One-time payment. No recurring fees.</p>
            <div class="pricing-card">
                <div class="price">$149</div>
                <div class="price-subtitle">Complete Tax Optimization Analysis</div>
                <ul class="pricing-features">
                    <li>8+ Withdrawal Strategies Analyzed</li>
                    <li>Spousal Equalization Optimization</li>
                    <li>Ontario-Specific Tax Calculations</li>
                    <li>Professional PDF Report</li>
                    <li>OAS Clawback Protection Analysis</li>
                    <li>Estate Value Projections</li>
                    <li>Lifetime Access to Your Report</li>
                </ul>
                <a href="calculator.html" class="final-cta-button">Get Your Comprehensive Retirement Tax Report Now</a>
            </div>
        </div>
    </section>

    <!-- Pre-Footer Final Offer -->
    <section class="pre-footer-section">
        <div class="container">
            <h2>Still Exploring Your Options?</h2>
            <p>We've condensed everything an Ontario retiree needs to know about the RRIF conversion process into one simple, easy-to-read guide. Download it for free and get the foundational knowledge you need to make a smart decision.</p>
            <button class="secondary-cta-button" onclick="window.location.href='/free-rrif-guide'">Download The Free Guide</button>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-bottom">
                    <p>&copy; 2025 Ontario Tax App. All rights reserved. Not affiliated with the Government of Ontario or Canada Revenue Agency.</p>
                    <p style="margin-top: 0.5rem;">Secure calculations performed locally. Your financial data never leaves your device.</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- OAS Calculator Modal -->
    <div id="oasModal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h2>OAS Clawback Calculator</h2>
                <button class="close-button" onclick="closeOASModal()">&times;</button>
            </div>
            <div id="modalForm">
                <p class="modal-description">Enter your estimated annual income sources below. We'll calculate your risk and email you a free, personalized summary.</p>
                <form id="oasCalculatorForm">
                    <div class="form-group">
                        <label for="rrifWithdrawals">RRIF/RRSP Withdrawals ($)</label>
                        <input type="number" id="rrifWithdrawals" name="rrifWithdrawals" min="0" step="1000" placeholder="e.g., 25000">
                    </div>
                    <div class="form-group">
                        <label for="cppPension">CPP Pension ($)</label>
                        <input type="number" id="cppPension" name="cppPension" min="0" step="100" placeholder="e.g., 15000">
                    </div>
                    <div class="form-group">
                        <label for="otherPension">Work/Other Pension ($)</label>
                        <input type="number" id="otherPension" name="otherPension" min="0" step="1000" placeholder="e.g., 30000">
                    </div>
                    <div class="form-group">
                        <label for="otherIncome">Other Income ($)</label>
                        <input type="number" id="otherIncome" name="otherIncome" min="0" step="1000" placeholder="e.g., 5000">
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" name="email" required placeholder="your.email@example.com">
                    </div>
                    <button type="submit" class="submit-button">Calculate & Email My Results</button>
                </form>
            </div>
            <div id="successMessage" class="success-message">
                <h3>Thank you!</h3>
                <p>Your personalized results have been sent to your inbox.</p>
                <button class="submit-button" onclick="closeOASModal()" style="margin-top: 1rem;">Close</button>
            </div>
        </div>
    </div>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe elements for animation
        document.querySelectorAll('.problem-card, .feature-card').forEach(el => {
            el.style.opacity = '0';
            el.style.transform = 'translateY(30px)';
            el.style.transition = 'all 0.6s ease-out';
            observer.observe(el);
        });

        // Track CTA clicks
        document.querySelectorAll('.cta-button, .final-cta-button').forEach(button => {
            button.addEventListener('click', function() {
                // Analytics tracking would go here
                console.log('CTA clicked:', this.textContent);
            });
        });

        // OAS Calculator Modal Functions
        function openOASModal() {
            document.getElementById('oasModal').style.display = 'block';
            document.body.style.overflow = 'hidden'; // Prevent background scrolling
        }

        function closeOASModal() {
            document.getElementById('oasModal').style.display = 'none';
            document.body.style.overflow = 'auto'; // Restore scrolling
            // Reset form and show form again
            document.getElementById('modalForm').style.display = 'block';
            document.getElementById('successMessage').style.display = 'none';
            document.getElementById('oasCalculatorForm').reset();
        }

        // Close modal when clicking outside of it
        document.getElementById('oasModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeOASModal();
            }
        });

        // Handle form submission
        document.getElementById('oasCalculatorForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form data
            const formData = new FormData(this);
            const data = {
                rrifWithdrawals: formData.get('rrifWithdrawals') || 0,
                cppPension: formData.get('cppPension') || 0,
                otherPension: formData.get('otherPension') || 0,
                otherIncome: formData.get('otherIncome') || 0,
                email: formData.get('email')
            };

            // Calculate total income
            const totalIncome = parseInt(data.rrifWithdrawals) + parseInt(data.cppPension) + 
                               parseInt(data.otherPension) + parseInt(data.otherIncome);
            
            // Add total income to data
            data.totalIncome = totalIncome;
            
            // Calculate OAS clawback risk
            const oasThreshold = 90997; // 2025 threshold
            const oasClawbackRate = 0.15;
            const maxOAS = 8618; // 2025 max OAS
            
            let clawbackAmount = 0;
            let riskLevel = 'Low';
            let riskColor = '#38a169';
            
            if (totalIncome > oasThreshold) {
                clawbackAmount = Math.min((totalIncome - oasThreshold) * oasClawbackRate, maxOAS);
                if (clawbackAmount >= maxOAS) {
                    riskLevel = 'Critical - Complete OAS Loss';
                    riskColor = '#e53e3e';
                } else if (clawbackAmount > maxOAS * 0.5) {
                    riskLevel = 'High';
                    riskColor = '#ed8936';
                } else {
                    riskLevel = 'Moderate';
                    riskColor = '#ecc94b';
                }
            }
            
            data.clawbackAmount = Math.round(clawbackAmount);
            data.riskLevel = riskLevel;
            data.riskColor = riskColor;

            // TODO: Replace with actual webhook URL
            const webhookURL = 'https://your-n8n-webhook-url.com/webhook/oas-calculator';
            
            // Send data to webhook (placeholder - replace with actual implementation)
            console.log('Sending data to webhook:', data);
            
            // For now, simulate successful submission
            setTimeout(() => {
                // Hide form and show success message
                document.getElementById('modalForm').style.display = 'none';
                document.getElementById('successMessage').style.display = 'block';
                
                // Auto-close after 3 seconds
                setTimeout(() => {
                    closeOASModal();
                }, 3000);
            }, 1000);

            // In a real implementation, you would do:
            /*
            fetch(webhookURL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(data)
            })
            .then(response => response.json())
            .then(result => {
                // Hide form and show success message
                document.getElementById('modalForm').style.display = 'none';
                document.getElementById('successMessage').style.display = 'block';
                
                // Auto-close after 3 seconds
                setTimeout(() => {
                    closeOASModal();
                }, 3000);
            })
            .catch(error => {
                console.error('Error:', error);
                alert('There was an error submitting your information. Please try again.');
            });
            */
        });
    </script>
</body>
</html>
